<script src="/socket.io/socket.io.js"></script>
<script>
  var socket = io.connect('http://localhost:8000');
  var location = get_location();

  /* OBJECTS

  room = {name:string, users:[], messages:[], center:{}, radius:number}

  user = {name:string, last_location:{}, timestamp:number, room_id:number}

  */

  socket.emit('client:connection', location);

  socket.on('server:rooms', function (rooms) {
    console.log('rooms: '+JSON.stringify(rooms));
    var room = ...;
    socket.emit('client:room', room);
  });

  socket.on('server:recent_messages', function (messages) {
    console.log('messages: '+JSON.stringify(messages));
  });

  socket.on('server:new_msg', function (msg) {
    console.log('new msg: '+JSON.stringify(msg));
  });
</script>